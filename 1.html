<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<meta name="description" content="智能社是一家专注于web前端开发技术的公司，目前主要提供JavaScript培训和HTML5培训两项服务，同时还推出了大量javascript基础知识教程，智能课堂为你带来全新的学习方法和快乐的学习体验。" />
<title>智能社— http://www.zhinengshe.com</title>
<style>
meter{ width:600px; height:30px; }
video{ width:600px; }
</style>
<script src="js/video.js"></script>
<script>
window.onload=function (){
	var aInp=document.getElementsByTagName('input');
	var oM=document.getElementsByTagName('meter')[0];
	var oV=document.getElementsByTagName('video')[0];
	
	var timer=setInterval(function(){
		//播放的位置
		//console.log(oV.currentTime);
		//console.log(oV.buffered);
		var TimeRanges=oV.buffered;
		var timeBuffered =TimeRanges.end(TimeRanges.length - 1);
		var bufferPercent = timeBuffered / oV.duration; 
		console.log(bufferPercent);
		 
	},200);

	
	//console.log(oV.buffered);
	
	//console.log( bufferPercent);
	//播放
	aInp[0].onclick=function (){
		oV.play();
		pb();
	};
	//暂停
	aInp[1].onclick=function (){
		oV.pause();
	};
	//快进
	aInp[2].onclick=function (){
		oV.currentTime++;
	};
	//快退
	aInp[3].onclick=function (){
		oV.currentTime--;
	};
	//音量+
	aInp[4].onclick=function (){
		oV.volume+=0.1;
	};
	//音量-
	aInp[5].onclick=function (){
		oV.volume-=0.1;
	};
	//静音
	var bOk=true;
	aInp[6].onclick=function (){
		if(bOk){
			oV.muted=true;
			this.value='取消静音';
		}else{
			oV.muted=false;
			this.value='静音';
		}
		bOk=!bOk;
	};
	//全屏
	aInp[7].onclick=function (){
		oV.webkitRequestFullscreen();
	};
	//进度条
	function pb(){
		setInterval(function (){
			var scale=oV.currentTime/oV.duration;
			oM.value=scale*100;
		},30);
	}
	
};
</script>
</head>

<body>
	<input type="button" value="播放" />
	<input type="button" value="暂停" />
	<input type="button" value="快进" />
	<input type="button" value="快退" />
	<input type="button" value="音量+" />
	<input type="button" value="音量-" />
    <input type="button" value="静音" />
    <input type="button" value="全屏" />
    <meter max="100" min="0" value="0"></meter>
	<video src="http://zz.kongzhong.com/index180118/images/cover.webm"  controls loop preload="auto">
    	Flash..
    	<span>您的浏览器版本过低请升级，呵呵！</span>
    </video>
</body>
</html>



















